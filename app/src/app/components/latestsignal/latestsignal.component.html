<div class=dashboard>
  <div class="actionbar">
    <header [title]="'최근 신호'"></header>
  </div>
  <div class="main">
    <app-navi [page]="'최근 신호'"></app-navi>
    <div class="content">
      <mat-tab-group #group dynamicHeight mat-align-tabs="center" [selectedIndex]="selectedIndex"
        (selectedTabChange)="tabChanged($event)">
        <mat-tab label="테스트 알고리즘 중">
          <div class="selection-container" *ngIf="inputDataTrend !== undefined">
            <mat-form-field appearance="fill">
              <mat-label>종류</mat-label>
              <mat-select [formControl]="toppings" multiple [(value)]="typeSelected"
                (selectionChange)="onChangeType($event)">
                <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>최근 일자</mat-label>
              <mat-select disableRipple (selectionChange)="onChangeDay($event)" [(value)]="daySelected">
                <mat-option value="1">3일</mat-option>
                <mat-option value="2">7일</mat-option>
                <mat-option value="3">14일</mat-option>
                <mat-option value="4">1개월</mat-option>
                <mat-option value="5">6개월</mat-option>
                <mat-option value="6">1년</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div style="
                    margin-top: 30px;
                    color: white;
                    text-align: center;
                    font-family: hyundai-card;
                    word-break: keep-all;
                    word-wrap: break-word;">총 수익률 : <span [ngStyle]="{'color': totalRateTrend>0 ? '#ee3b89' : '#65a3f5' }">{{totalRateTrend}}</span> %</div>
          <table mat-table *ngIf="inputDataTrend !== undefined && inputDataTrend.data.length > 0"
            [dataSource]="inputDataTrend.data" class="mat-elevation-z8" (swiperight)="onSwipeRight($event)"
            (swipeleft)="onSwipeLeft($event)">
            <ng-container *ngFor="let item of inputDataTrend.column; index as i" [matColumnDef]=item>
              <th mat-header-cell *matHeaderCellDef> {{item}} </th>
              <td mat-cell *matCellDef="let element"
                [ngStyle]="{'color': element[i] === '매수' ? '#ee3b89' : element[i] === '매도' ?'#65a3f5': 'white' }"
                (click)="onTapCompany(element[inputDataTrend.column.length], element[0])">
                {{element[i]}}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="inputDataTrend.column"></tr>
            <tr mat-row *matRowDef="let row; columns: inputDataTrend.column;"></tr>
          </table>
          <div class="nolist" *ngIf="inputDataTrend !== undefined && inputDataTrend.data.length == 0"
            (swiperight)="onSwipeRight($event)" (swipeleft)="onSwipeLeft($event)"> 신호 없음 </div>
        </mat-tab>
        <mat-tab label="볼린저 반전 매매">
          <div class="selection-container" *ngIf="inputDataReverse !== undefined">
            <mat-form-field appearance="fill">
              <mat-label>종류</mat-label>
              <mat-select [formControl]="toppings" multiple [(value)]="typeSelected"
                (selectionChange)="onChangeType($event)">
                <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>최근 일자</mat-label>
              <mat-select disableRipple (selectionChange)="onChangeDay($event)" [(value)]="daySelected">
                <mat-option value="1">3일</mat-option>
                <mat-option value="2">7일</mat-option>
                <mat-option value="3">14일</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div style="
                    margin-top: 30px;
                    color: white;
                    text-align: center;
                    font-family: hyundai-card;
                    word-break: keep-all;
                    word-wrap: break-word;">총 수익률 : <span [ngStyle]="{'color': totalRateReverse>0 ? '#ee3b89' : '#65a3f5' }">{{totalRateReverse}}</span> %</div>

          <table mat-table (swiperight)="onSwipeRight($event)" (swipeleft)="onSwipeLeft($event)"
            *ngIf="inputDataReverse !== undefined && inputDataReverse.data.length > 0"
            [dataSource]="inputDataReverse.data" class="mat-elevation-z8">
            <ng-container *ngFor="let item of inputDataReverse.column; index as i" [matColumnDef]=item>
              <th mat-header-cell *matHeaderCellDef> {{item}} </th>
              <td mat-cell *matCellDef="let element"
                [ngStyle]="{'color': element[i] === '매수' ? '#ee3b89' : element[i] === '매도' ?'#65a3f5': 'white' }"
                (click)="onTapCompany(element[inputDataReverse.column.length], element[0])">
                {{element[i]}}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="inputDataReverse.column"></tr>
            <tr mat-row *matRowDef="let row; columns: inputDataReverse.column;"></tr>
          </table>
          <div class="nolist" (swiperight)="onSwipeRight($event)" (swipeleft)="onSwipeLeft($event)"
            *ngIf="inputDataReverse !== undefined && inputDataReverse.data.length == 0"> 신호 없음 </div>
        </mat-tab>
        <mat-tab label="삼중창 시스템">
          <div class="selection-container" *ngIf="inputDataTriple !== undefined">
            <mat-form-field appearance="fill">
              <mat-label>종류</mat-label>
              <mat-select [formControl]="toppings" multiple [(value)]="typeSelected"
                (selectionChange)="onChangeType($event)">
                <mat-option *ngFor="let topping of toppingList" [value]="topping">{{topping}}</mat-option>
              </mat-select>
            </mat-form-field>

            <mat-form-field appearance="fill">
              <mat-label>최근 일자</mat-label>
              <mat-select disableRipple (selectionChange)="onChangeDay($event)" [(value)]="daySelected">
                <mat-option value="1">3일</mat-option>
                <mat-option value="2">7일</mat-option>
                <mat-option value="3">14일</mat-option>
              </mat-select>
            </mat-form-field>
          </div>
          <div style="
                    margin-top: 30px;
                    color: white;
                    text-align: center;
                    font-family: hyundai-card;
                    word-break: keep-all;
                    word-wrap: break-word;">총 수익률 : <span [ngStyle]="{'color': totalRateTriple>0 ? '#ee3b89' : '#65a3f5' }">{{totalRateTriple}}</span> %</div>

          <table mat-table (swiperight)="onSwipeRight($event)" (swipeleft)="onSwipeLeft($event)"
            *ngIf="inputDataTriple !== undefined && inputDataTriple.data.length > 0" [dataSource]="inputDataTriple.data"
            class="mat-elevation-z8">
            <ng-container *ngFor="let item of inputDataTriple.column; index as i" [matColumnDef]=item>
              <th mat-header-cell *matHeaderCellDef> {{item}} </th>
              <td mat-cell *matCellDef="let element"
                [ngStyle]="{'color': element[i] === '매수' ? '#ee3b89' : element[i] === '매도' ?'#65a3f5': 'white' }"
                (click)="onTapCompany(element[inputDataTriple.column.length], element[0])">
                {{element[i]}}</td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="inputDataTriple.column"></tr>
            <tr mat-row *matRowDef="let row; columns: inputDataTriple.column;"></tr>
          </table>
          <div class="nolist" (swiperight)="onSwipeRight($event)" (swipeleft)="onSwipeLeft($event)"
            *ngIf="inputDataTriple !== undefined && inputDataTriple.data.length == 0"> 신호 없음 </div>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>